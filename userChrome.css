:root {
  --chrome-background-color: #2f343e !important;
  --chrome-secondary-background-color: #262a32 !important;
  --chrome-color: rgba(255, 255, 255, 0.5) !important;
  --chrome-nav-bar-controls-border-color: transparent !important;
  --url-and-searchbar-background-color: rgba(0, 0, 0, 0.2) !important;
  --lwt-toolbar-field-background-color: rgba(0, 0, 0, 0.2) !important;
  --panel-separator-color: transparent !important;
}

/* toolbar buttons */
toolbar {
  --toolbarbutton-inner-padding: 4px !important;
  --toolbarbutton-hover-background: rgba(0, 0, 0, 0.15) !important;
  --toolbarbutton-active-background: rgba(0, 0, 0, 0.15) !important;
  padding-right: 5px !important;
}

toolbar .toolbarbutton-1 > .toolbarbutton-icon {
  width: calc(2 * var(--toolbarbutton-inner-padding) + 17px) !important;
}

/* tabs */
#navigator-toolbox {
  --tabs-border-color: rgba(0,0,0,0) !important;
}

.tabbrowser-tab {
  --tab-line-color: #0077f0;
  --tab-loading-fill: #0077f0;
  border-top-left-radius: 3px !important;
  border-top-right-radius: 3px !important;
  overflow: hidden;
}

.tabbrowser-tab:not([selected=true]) {
  opacity: .6;
}

.tabbrowser-tab:hover:not([selected=true]) {
  opacity: 1;
}

.tabbrowser-tab::after,
.tabbrowser-tab::before {
  border-left: 0 !important;
}

.tabbrowser-tab .tab-line[selected="true"] {
  opacity: .75 !important;
}

.tab-background[selected="true"] {
  border: 0 !important;
}

.tab-content {
  padding: 0 9px !important;
}

.tab-content .tab-close-button .toolbarbutton-icon {
  transform: scale(0.8) translateX(3px);
}

.tabs-newtab-button .toolbarbutton-icon {
  border: 3px solid var(--chrome-background-color) !important;
  padding: 4px !important;
  border-radius: 5px !important;
  transform: translateY(1px);
}

.tabs-newtab-button:hover .toolbarbutton-icon {
  background-color: rgba(255, 255, 255, 0.05) !important;
}

/* tabs hover */
#TabsToolbar[brighttext] > #tabbrowser-tabs > .tabbrowser-tab:hover > .tab-stack > .tab-background:not([selected=true]) {
  background-color: rgba(255, 255, 255, 0.05) !important;
}

#TabsToolbar[brighttext] > #tabbrowser-tabs > .tabbrowser-tab:hover > .tab-stack > .tab-background > .tab-line:not([selected=true]) {
  background-color: rgba(255, 255, 255, 0.075) !important;
}

/* tabs overlay icons */
.tab-icon-overlay {
  margin-top: 0 !important;
  transform: scale(0.8) translateX(-4px);
  padding: 2px;
  opacity: .75;
  background-color: var(--tab-line-color) !important;
  transition: transform .1s ease, opacity .1s ease;
}

.tab-icon-overlay:hover {
  transform: scale(1) translateX(-4px);
  opacity: 1;
}

/* tabs toolbar */
#TabsToolbar:not([collapsed="true"]) + #nav-bar {
  border: 0 !important;
}

/* nav bar */
#back-button {
  margin-left: 3px !important;
}

/* urlbar */
#urlbar, .searchbar-textbox {
  border: 0 !important;
  box-shadow: none !important;
}

#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity,
#urlbar[pageproxystate="valid"] > #identity-box.chromeUI,
#urlbar[pageproxystate="valid"] > #identity-box.extensionPage,
#urlbar-display-box {
  border-inline-end: 0 !important;
  margin-inline-end: 6px !important;
}

#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity > #identity-icon-labels:-moz-lwtheme-brighttext {
  color: #058B00 !important;
}

#urlbar[pageproxystate="valid"] > #identity-box.verifiedDomain > #connection-icon,
#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity > #connection-icon,
#urlbar[pageproxystate="valid"] > #identity-box.mixedActiveBlocked > #connection-icon {
  fill: #058B00 !important;
}

#identity-box:hover:not(.no-hover):not([open="true"]),
#identity-box:hover:active:not(.no-hover),
#identity-box[open="true"],
.urlbar-icon:hover,
.urlbar-icon-wrapper:hover,
.urlbar-icon:hover:active,
.urlbar-icon-wrapper:hover:active,
.urlbar-icon[open],
.urlbar-icon-wrapper[open] {
  background-color: var(--toolbarbutton-hover-background) !important;
}

[uidensity="compact"]:root .urlbar-icon {
  height: 26px !important;
  padding: 6px !important;
}

#pageActionSeparator {
  width: 0 !important;
  border-inline-start: 0 !important;
  margin: 0 !important;
}

/* navigator toolbox */
#navigator-toolbox::after {
  border-bottom: 0 !important;
}

/* bookmaks toolbar */
[uidensity="compact"]:root toolbarbutton.bookmark-item:not(.subviewbutton) {
  margin: 3px 3px 5px !important;
  background-color: rgba(255, 255, 255, 0.025);
}

[uidensity="compact"]:root toolbarbutton.bookmark-item:not(.subviewbutton):first-child {
  margin-left: 0 !important;
}

toolbarbutton.bookmark-item:not(.subviewbutton) {
  padding: 4px 6px !important;
}

/* panel */
panelview {
  --arrowpanel-dimmed: rgba(0, 0, 0, 0.15) !important;
  --arrowpanel-dimmed-further: #262a32 !important;
  background-color: #2f343e !important;
  color: rgba(255, 255, 255, 0.5) !important;
}

panel toolbarbutton:not(.panel-subview-footer) {
  border-radius: 3px;
  padding: 6px 12px !important;
  margin: 0 6px !important;
}

panel toolbarbutton:hover {
  color: rgba(255, 255, 255, 0.75) !important;
}

panel .subviewbutton[shortcut]::after {
  font-size: 50%;
  font-weight: bold;
  letter-spacing: 1px;
  text-transform: uppercase;
  background-color: rgba(255, 255, 255, 0.05);
  padding: 2px 4px;
  border-radius: 3px;
}

panel .subview-subheader {
  font-weight: 300 !important;
  text-transform: uppercase !important;
  padding: 6px 12px !important;
  margin: 0 6px !important;
}

panel .panel-header > label {
  text-transform: uppercase !important;
}

.panel-arrowcontent {
  border: 0 !important;
  box-shadow: none !important;
  box-shadow: 0px 1px 5px 0 rgba(0, 0, 0, 0.25) !important;
  margin: 5px 5px !important;
  border-radius: 3px;
  overflow: hidden;
}

.panel-arrow[side="top"],
.panel-arrow[side="bottom"] {
  transform: translateY(1px) scale(0.75) !important;
  list-style-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="10"><path d="M 0,10 L 10,0 20,10 z" fill="hsl(220, 13.8%, 21.4%)"/><path d="M 1,10 L 10,1 19,10 z" fill="hsl(220, 13.8%, 21.4%)"/></svg>') !important;
}

.panel-arrow[side="left"],
.panel-arrow[side="right"] {
  transform: translateX(1px) scale(0.75) !important;
  list-style-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="20"><path d="M 10,0 L 0,10 10,20 z" fill="hsl(220, 13.8%, 21.4%)"/><path d="M 10,1 L 1,10 10,19 z" fill="hsl(220, 13.8%, 21.4%)"/></svg>') !important;
}

/* autocomplete */
#PopupAutoCompleteRichResult {
  background-clip: padding-box !important;
}

#PopupAutoCompleteRichResult .search-one-offs {
  border-bottom: 2px solid rgba(0, 0, 0, 0.2) !important;
}

panel[type="autocomplete"],
panel[type="autocomplete-richlistbox"] {
  background-color: #262a32 !important;
  border: none !important;
}

/* menupopup */
menupopup {
  -moz-appearance: none !important;
}

menupopup menupopup {
  transform: translateY(-5px);
  padding-top: 1px;
}

menupopup > .popup-internal-box {
  background-color: #2f343e !important;
  margin: 5px 5px !important;
  box-shadow: 0px 1px 5px 0 rgba(0, 0, 0, 0.25) !important;
  border-radius: 3px;
  overflow: hidden;
  padding: 6px 0;
}

menuseparator {
  -moz-appearance: none;
  height: 10px;
}

menu,
menuitem,
menuitem[type="radio"],
menuitem[type="checkbox"],
menuitem[type="checked"],
menucaption {
  -moz-appearance: none !important;
  padding: 5px;
  color: rgba(255, 255, 255, 0.5) !important;
  padding: 6px 12px !important;
  margin: 0 6px !important;
  border-radius: 3px;
}

menu[_moz-menuactive="true"]:not([disabled="true"]),
menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
  color: rgba(255, 255, 255, 0.75) !important;
  background: rgba(0, 0, 0, 0.15) !important;
}

menu[disabled="true"],
menuitem[disabled="true"],
menucaption[disabled="true"] {
  color: rgba(255, 255, 255, 0.15) !important;
  background-color: transparent !important;
}
